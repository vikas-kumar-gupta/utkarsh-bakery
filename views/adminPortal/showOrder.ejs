<% layout('layouts/boilerplate') %> 
<section class="container mt-3">
    <div class="card">
        <div class="card-header h4 text-danger text-center">
            Order #<%= order._id %> Details
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h5 class="card-title text-center text-primary">General Details</h5>
                    <table class="table table-hover">
                        <tbody>
                            <tr>
                                <td class="fw-bolder">Product</td>
                                <td><%= order.products[0].name %>  </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Product Detail</td>
                                <td><a href="/product/<%= order.products[0]._id %>">Data Here</a></td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Order Date</td>
                                <td>
                                    <%= order.orderDate %>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Name on Cake</td>
                                <td>
                                    <%= order.nameOnCake %>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Order Status</td>
                                <td>
                                    <%= order.orderStatus %>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Customer Name</td>
                                <td>
                                    <%= order.customer.firstName %> <%= order.customer.lastName %>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Contact Number</td>
                                <td>
                                    <%= order.customer.number %> 
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Customer Details</td>
                                <td>
                                    <a href="/user/<%= order.customer._id %>/profile">Click Here</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-6">
                    <h5 class="card-title text-center text-primary">Payment Details</h5>
                    <table class="table table-hover">
                        <tbody>
                            <tr>
                                <td class="fw-bolder">Payment Method</td>
                                <td>
                                    <%= order.paymentMethod %>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Product Amount</td>
                                <td>
                                    <%= order.products[0].salePrice %>.00
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Shipping Charge Date</td>
                                <td>
                                    <%= order.deliveryCharge %>.00
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Total Amount</td>
                                <td>
                                    <%= order.products[0].salePrice + order.deliveryCharge %>.00
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h5 class="card-title text-center text-primary">Shipping Details</h5>
                    <table class="table table-hover">
                        <tbody>
                            <tr>
                                <td class="fw-bolder">Address</td>
                                <td>
                                    <%= order.shippingAddress %>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Delivery Method</td>
                                <td>
                                    <%= order.deliveryMethod %>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bolder">Expected Delivery Date</td>
                                <td>
                                    <%= order.expectedDeliveryDate %>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="card-footer text-muted text-center">
            <form action="/admin/all-orders/<%= order._id %>?_method=PUT" method="POST" class="validated-form" novalidate>
                        <label for="status" class="form-label">Update Order Status</label>
                        <select class="form-select form-control" name="order[orderStatus]" aria-label="Default select" id="status">
                            <option value="" selected>Select Status</option>
                            <option value="Processing">Processing</option>
                            <option value="On hold">On hold</option>
                            <option value="Pending Payment">Pending Payment</option>
                            <option value="Failed">Failed</option>
                            <option value="Completed">Completed</option>
                            <option value="Canceled">Canceled</option>
                            <option value="Refunded">Refunded</option>
                            <option value="Authentication require">Authentication require</option>
                        </select>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-danger">Update Status</button>
                    </div>
            </form>
        </div>
    </div>
</section>